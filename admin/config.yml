backend:
  name: git-gateway
  branch: main
publish_mode: editorial_workflow

media_folder: "assets/images"
public_folder: "/assets/images"

collections:
  # 1. SEKCE: AKTUALITY A NOVINKY
  - name: "blog"
    label: "Aktuality a Novinky"
    folder: "_posts"
    summary: "{{title}} ({{date}})"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "Nadpis", name: "title", widget: "string" }
      - { label: "Typ příspěvku", name: "type", widget: "select", options: [
          { label: "Krátká aktualita (do feedu)", value: "news-feed" },
          { label: "Velká novinka (Top 3 nahoře)", value: "featured" }
        ], default: "news-feed" }
      - { label: "Datum", name: "date", widget: "datetime" }
      - { label: "Kategorie", name: "category", widget: "select", options: ["A-Tým", "Mládež", "Klub"] }
      - { label: "Úvodní fotka (pouze pro velké novinky)", name: "image", widget: "image", required: false }
      - { label: "Text článku", name: "body", widget: "markdown" }

  # 2. ADRESÁŘ TÝMŮ
  - name: "teams"
    label: "1. Adresář týmů (Loga)"
    folder: "_data/teams"
    summary: "{{title}} ({{id}})"
    create: true
    extension: "json"
    format: "json"
    identifier_field: title
    slug: "{{slug}}"
    fields:
      - { label: "Název týmu (přesně)", name: "title", widget: "string" }
      - { label: "Zkratka/ID (např. kostelec, pacov)", name: "id", widget: "string" }
      - { label: "Logo týmu", name: "logo", widget: "image" }

  # 3. ZÁPASY (ODEHRANÉ I BUDOUCÍ)
  - name: "matches"
    label: "2. Zápasy (Rozpis a Výsledky)"
    folder: "_data/matches"
    summary: "{{home_id}} vs {{away_id}} | {{home_score}}:{{away_score}} ({{date}})"
    create: true
    extension: "json"
    format: "json"
    slug: "match-{{year}}-{{month}}-{{day}}"
    fields:
      - label: "Domácí"
        name: "home_id"
        widget: "relation"
        collection: "teams"
        search_fields: ["title"]
        value_field: "id"
        display_fields: ["title"]
      - label: "Hosté"
        name: "away_id"
        widget: "relation"
        collection: "teams"
        search_fields: ["title"]
        value_field: "id"
        display_fields: ["title"]
      - { label: "Datum a čas zápasu", name: "date", widget: "datetime" }
      - { label: "Místo konání", name: "location", widget: "string", default: "Kostelec n. Č. l." }
      - { label: "Zápas již odehrán?", name: "played", widget: "boolean", default: false }
      
      # STATISTIKY ZÁPASU (Zobrazí se jen když je odehráno)
      - { label: "Góly Domácí", name: "home_score", widget: "number", required: false }
      - { label: "Góly Hosté", name: "away_score", widget: "number", required: false }
      - { label: "Poločas Domácí", name: "half_home", widget: "number", required: false }
      - { label: "Poločas Hosté", name: "half_away", widget: "number", required: false }
      
      # STŘELCI (Propojení na soupisku)
      - label: "Střelci gólů (Kostelec)"
        name: "scorers"
        widget: "list"
        required: false
        field:
          label: "Hráč"
          name: "player_id"
          widget: "relation"
          collection: "players"
          search_fields: ["title"]
          value_field: "title" 
          display_fields: ["title"]

  # 4. SOUPISKA
  - name: "players"
    label: "3. Soupiska A-Tým"
    folder: "_data/players"
    summary: "#{{number}} {{title}} ({{position}})"
    create: true
    extension: "json"
    format: "json"
    slug: "{{slug}}"
    fields:
      - { label: "Jméno a příjmení", name: "title", widget: "string" }
      - { label: "Číslo dresu", name: "number", widget: "number" }
      - { label: "Fotka hráče", name: "image", widget: "image" }
      - { label: "Post", name: "position", widget: "select", options: ["Brankář", "Obránce", "Záložník", "Útočník"] }
      - { label: "Narozen", name: "born", widget: "string" }
      - { label: "Výška (cm)", name: "height", widget: "string" }
      - { label: "Váha (kg)", name: "weight", widget: "string" }
      # STATISTIKY (Budou se propisovat nebo editovat)
      - { label: "Zápasy", name: "matches_count", widget: "number", default: 0 }
      - { label: "Góly", name: "goals", widget: "number", default: 0 }
      - { label: "Asistence", name: "assists", widget: "number", default: 0 }